{"version":3,"file":"animation.js","sourceRoot":"","sources":["../src/animation.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAO,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACzD,OAAO,KAAK,MAAM,SAAS,CAAC;AAG5B,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,UAAU;IAKjD;QACE,KAAK,EAAE,CAAC;IACV,CAAC;IACD,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;IAC5B,CAAC;IACD,YAAY,CAAC,kBAAkB;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IACD,eAAe;QACb,IAAI,GAAG,GAAG,KAAK,CAAC;YACd,OAAO,EAAE,IAAI,CAAC,SAAS;YACvB,CAAC,EAAE;gBACD;oBACE,KAAK,EACH,uGAAuG;iBAC1G;gBACD;oBACE,KAAK,EACH,uFAAuF;iBAC1F;aACF;YACD,MAAM,EAAE,QAAQ;YAChB,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,KAAK;YACX,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QAEH,IAAI,EAAE,GAAG,CAAC,KAAkC,EAAE,EAAE;YAC9C,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,iBAAiB,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;QACpE,CAAC,CAAC;QAEF,IAAI,SAAS,GAAG,CAAC,GAAG,EAAE,EAAE;YACtB,IAAI,GAAG,GAAG,EAAE,EACV,CAAC,GAAG,CAAC,CAAC;YACR,KAAK,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACpB,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;aACnB;YACD,OAAO,GAAG,CAAC;QACb,CAAC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC5B,IAAI,OAAO,GAAG;YACZ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE,KAAK;YACjB,SAAS,EAAE,SAAS,CAAC,GAAG,CAAC;SAC1B,CAAC;QACF,IAAI,iBAAiB,GAAG,IAAI,oBAAoB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QAC9D,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC;IACD,gBAAgB;QACd,OAAO,IAAI,CAAC;IACd,CAAC;IACD,MAAM;QACJ,OAAO,IAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAwEV,CAAC;IACJ,CAAC;CACF,CAAA;AAlIC;IADC,KAAK,CAAC,+BAA+B,CAAC;;sDAC7B;AAEV;IADC,KAAK,CAAC,YAAY,CAAC;;sDACV;AAJC,mBAAmB;IAD/B,aAAa,CAAC,sBAAsB,CAAC;;GACzB,mBAAmB,CAoI/B;SApIY,mBAAmB","sourcesContent":["import { LitElement, html, css } from 'lit';\r\nimport { customElement, query } from 'lit/decorators.js';\r\nimport anime from 'animejs';\r\n\r\n@customElement('background-animation')\r\nexport class BackgroundAnimation extends LitElement {\r\n  @query('.background-animation__sticky')\r\n  container;\r\n  @query('.polymorph')\r\n  polymorph;\r\n  constructor() {\r\n    super();\r\n  }\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n  }\r\n  firstUpdated(_changedProperties) {\r\n    this.createAnimation();\r\n  }\r\n  createAnimation() {\r\n    let ret = anime({\r\n      targets: this.polymorph,\r\n      d: [\r\n        {\r\n          value:\r\n            'M720, 0 H0 V 300 c 144, 0, 216 -72, 360 -72 s 216, 72, 360, 72, 216 -72, 360 -72, 216, 72, 360, 72V0Z',\r\n        },\r\n        {\r\n          value:\r\n            'M720, 0 H0 V 300 c 144 0, 216 0, 360 0 s 216 0, 360 0, 216 0, 360 0, 216 0, 360 0 V0Z',\r\n        },\r\n      ],\r\n      easing: 'linear',\r\n      duration: 5000,\r\n      loop: false,\r\n      autoplay: false,\r\n    });\r\n\r\n    let cb = (entry: IntersectionObserverEntry[]) => {\r\n      ret.seek((1 - (entry[0].intersectionRatio - 0.4)) * ret.duration);\r\n    };\r\n\r\n    let spacedArr = (len) => {\r\n      let arr = [],\r\n        i = 0;\r\n      for (i; i < len; i++) {\r\n        arr.push(i / 100);\r\n      }\r\n      return arr;\r\n    };\r\n    console.log(spacedArr(100));\r\n    let options = {\r\n      root: document,\r\n      rootMargin: '0px',\r\n      threshold: spacedArr(100),\r\n    };\r\n    let animationObserver = new IntersectionObserver(cb, options);\r\n    animationObserver.observe(this.container);\r\n  }\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n  render() {\r\n    return html`\r\n      <!--Top blue portion-->\r\n\r\n      <div\r\n        style=\"display: flex;\r\n  position: sticky;\r\n      align-items: flex-end;\r\n  top: -55vh; \r\n     background-image: linear-gradient(#2e3293 80%, #00000000 81%);\r\n  height: 70vh;\r\n  width: 100%\"\r\n        class=\"background-animation__sticky\"\r\n      >\r\n        <div style=\"position: absolute\"><slot name=\"header\"></slot></div>\r\n\r\n        <svg\r\n          style=\"\r\n  position: sticky;\r\n  top: 0px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n\r\n\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n          viewBox=\"0 0 1440 330\"\r\n          class=\"dark-blue\"\r\n        >\r\n          <defs>\r\n            <style>\r\n              .cls-1 {\r\n                fill: url(#linear-gradient);\r\n                filter: url(#shadow);\r\n              }\r\n            </style>\r\n            <filter id=\"shadow\" x=\"0\" y=\"0\" width=\"200%\" height=\"200%\">\r\n              <feDropShadow\r\n                dx=\"5\"\r\n                dy=\"5\"\r\n                stdDeviation=\"5\"\r\n                flood-color=\"#8b8b8b\"\r\n                flood-opacity=\"1\"\r\n              />\r\n            </filter>\r\n            <linearGradient\r\n              id=\"linear-gradient\"\r\n              x1=\"720\"\r\n              y1=\"576\"\r\n              x2=\"720\"\r\n              gradientUnits=\"userSpaceOnUse\"\r\n            >\r\n              <stop offset=\"0.08\" stop-color=\"#0043aa\" />\r\n              <stop offset=\"0.39\" stop-color=\"#0342a9\" />\r\n              <stop offset=\"0.6\" stop-color=\"#0c3ea4\" />\r\n              <stop offset=\"0.78\" stop-color=\"#1a399c\" />\r\n              <stop offset=\"0.93\" stop-color=\"#2e3192\" />\r\n            </linearGradient>\r\n          </defs>\r\n          <g id=\"Layer_2\" data-name=\"Layer 2\">\r\n            <g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n              <!--If you are reading this: this was a pain to figure out (esp for someone who doesn't usually work with SVG). After the c character in the path, the formatting is as follows: x1 y1, x2 y2, x y. The c stands for 'curve'... I think. In this equation x y is the point, and x1y1 / x2y2 is the line representing the slope of the point. I wish we could just specify the slope, but alas not yet. David 05/29/2021 -->\r\n              <path\r\n                class=\"cls-1 polymorph\"\r\n                d=\"M720,0H0V300c144,0,216-72,360-72s216,72,360,72,216-72,360-72,216,72,360,72V0Z\"\r\n              />\r\n            </g>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n"]}