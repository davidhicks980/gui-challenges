{"version":3,"file":"content.component.js","sourceRoot":"","sources":["../src/content.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, TemplateResult } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nconst testFile = {\r\n    section: 'Home',\r\n    subcontent: [\r\n        {\r\n            section: 'Projects',\r\n            content: html`<p class=\"body-1\">\r\n                Take a look at some of the projects I've been working on over\r\n                the past few months\r\n                <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\r\n            </p> `,\r\n            subcontent: [\r\n                {\r\n                    section: 'ElderDrug.com',\r\n                    subcontent: [],\r\n                    content: html`A site for quickly searching through Beers\r\n                        Criteria.<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /> `,\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            section: 'Interests',\r\n            content: html``,\r\n            subcontent: [\r\n                {\r\n                    section: 'My Cat',\r\n                    subcontent: [],\r\n                    content: html`<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />`,\r\n                },\r\n                {\r\n                    section: 'Biking',\r\n                    subcontent: [],\r\n                    content: html``,\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            section: 'Resume',\r\n            content: html`The main event...`,\r\n            subcontent: [{ section: '', subcontent: [], content: html`` }],\r\n        },\r\n    ],\r\n};\r\n\r\nconst linkIcon = () => html`<svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    height=\"24px\"\r\n    viewBox=\"0 0 24 24\"\r\n    width=\"24px\"\r\n    fill=\"gray\"\r\n>\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path\r\n        d=\"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z\"\r\n    />\r\n</svg>`;\r\n\r\nconst tags = (\r\n    title: string,\r\n    link: TemplateResult,\r\n    level: number,\r\n    href: string\r\n) => {\r\n    let header = html`${title}${link}`;\r\n    const vals = {\r\n        h1: () => html`<h1 id=\"${href}\">${header}</h1>`,\r\n        h2: () => html`<h2 id=\"${href}\">${header}</h2>`,\r\n        h3: () => html`<h3 id=\"${href}\">${header}</h3>`,\r\n        h4: () => html`<h4 id=\"${href}\">${header}</h4>`,\r\n        h5: () => html`<h5 id=\"${href}\">${header}</h5>`,\r\n        h6: () => html`<h6 id=\"${href}\">${header}</h6>`,\r\n    };\r\n    return vals['h' + level];\r\n};\r\n\r\n@customElement('content-component')\r\nexport class ContentComponent extends LitElement {\r\n    @property()\r\n    file: string = '';\r\n\r\n    createRenderRoot() {\r\n        // Disable shadow DOM.\r\n        // Instead templates will be rendered in the light DOM.\r\n        return this;\r\n    }\r\n    @property({ type: String })\r\n    section: string = 'home';\r\n\r\n    content = [] as string[];\r\n\r\n    parseFile(\r\n        file: { section: string; content: TemplateResult; subcontent: any[] },\r\n        level = 1\r\n    ) {\r\n        if (typeof level != 'number' || level < 1 || level > 7)\r\n            return ['[err: too many headers]'];\r\n        ///////////////////////////////////\r\n        const { section: title, subcontent, content } = file;\r\n        ////////////////////\r\n        if (title) {\r\n            let href = (title.toLowerCase().trim() + level).replace(\r\n                /[^\\w\\d]/g,\r\n                '_'\r\n            );\r\n            let link = html`<a href=\"#${href}\" class=\"toc__content__link-icon\"\r\n                >${linkIcon()}</a\r\n            >`;\r\n            this.content.push(tags(title, link, level, href)());\r\n        }\r\n        if (content) {\r\n            this.content.push(content);\r\n        }\r\n        if (!Array.isArray(file.subcontent) || !file.subcontent.length) {\r\n            return;\r\n        } else {\r\n            subcontent.forEach((item) => {\r\n                this.parseFile(item, level + 1);\r\n            });\r\n        }\r\n        return this.content;\r\n    }\r\n\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n    }\r\n    render() {\r\n        return html`<div>${this.parseFile(testFile)}</div>`;\r\n    }\r\n}\r\n"]}