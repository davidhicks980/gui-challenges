{"version":3,"file":"sidenav.component.js","sourceRoot":"","sources":["sidenav.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { css, customElement, LitElement, property, query } from \"lit-element\";\r\nimport { html, nothing, TemplateResult } from \"lit-html\";\r\nimport \"./menu-item.component\";\r\n@customElement(\"hicks-sidenav\")\r\nexport class HicksSidenav extends LitElement {\r\n  @query(\".sidenav-navigation__container\")\r\n  sidenav!: HTMLElement;\r\n\r\n  private _open = true;\r\n  private _opening: boolean = false;\r\n\r\n  @property({ type: Boolean })\r\n  get opened() {\r\n    return this._open;\r\n  }\r\n  constructor() {\r\n    super();\r\n  }\r\n  firstUpdated() {\r\n    const clickHandler = this.createHandler().click;\r\n    const hashHandler = this.createHandler().hash;\r\n    document.addEventListener(\"click\", clickHandler);\r\n    document.addEventListener(\"hashchange\", hashHandler);\r\n  }\r\n  close(setHash = true) {\r\n    this._open = false;\r\n    document.location.hash = \"\";\r\n    this.requestUpdate(\"opened\");\r\n    this.dispatchEvent(new CustomEvent(\"toggled\", { detail: false }));\r\n  }\r\n  open(setHash = true) {\r\n    if (!this.opened) {\r\n      this._opening = true;\r\n      setTimeout(() => {\r\n        this.sidenav.focus();\r\n        this._open = true;\r\n        this._opening = false;\r\n        document.location.hash = \"sidenav-navigation__container\";\r\n        this.requestUpdate(\"opened\");\r\n        this.dispatchEvent(new CustomEvent(\"toggled\", { detail: true }));\r\n      });\r\n    }\r\n  }\r\n  createHandler() {\r\n    return {\r\n      hash: (e: Event) => {\r\n        document.location.hash.includes(\"sidenav-navigation__container\")\r\n          ? this.open(false)\r\n          : this.close(false);\r\n      },\r\n      click: (e: Event) => {\r\n        if (this.sidenav) {\r\n          const targetedElement = e.composedPath()[0] as Node;\r\n          if (!this.sidenav.contains(targetedElement)) {\r\n            this.close();\r\n            console.log(\r\n              this.sidenav.contains(targetedElement),\r\n              targetedElement\r\n            );\r\n          }\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"sidenav__container\">\r\n        <aside\r\n          @keyup=\"${(e: any) => {\r\n            if (e.code === \"Escape\") this.close(true);\r\n          }}\"\r\n          tabindex=\"0\"\r\n          class=\"sidenav-navigation__container\"\r\n          data-open=${this.opened}\r\n        >\r\n          <nav aria-labelledby=\"subnavigation\">\r\n            <slot\r\n              id=\"subnavigation\"\r\n              name=\"subnavigation\"\r\n              class=\"sidenav-navigation__content\"\r\n            >\r\n            </slot>\r\n          </nav>\r\n        </aside>\r\n\r\n        <span class=\"sidenav-close__link-container\">\r\n          ${this.opened\r\n            ? html`<a\r\n                tabindex=\"0\"\r\n                class=\"sidenav-close__link\"\r\n                href=\"#\"\r\n                aria-label=\"Close side navigation\"\r\n                @click=${() => this.close()}\r\n              >\r\n              </a>`\r\n            : nothing}</span\r\n        >\r\n      </div>\r\n    `;\r\n  }\r\n  static get styles() {\r\n    return css`\r\n      ///////////////////\r\n      @keyframes SlideInFromLeft {\r\n        0% {\r\n          transform: translateX(-200px);\r\n        }\r\n        100% {\r\n          transform: translateX(0px);\r\n        }\r\n      }\r\n      menu-item {\r\n        list-style: none;\r\n      }\r\n\r\n      .sidenav-navigation__container {\r\n        --easeOutExpo: cubic-bezier(0.16, 1, 0.3, 1);\r\n        --duration: 0.6s;\r\n        height: 100%;\r\n        width: 100%;\r\n        transform: translateX(-0px);\r\n        display: block;\r\n        animation: var(--duration) var(--easeOutExpo) SlideInFromLeft;\r\n\r\n        animation-iteration-count: 1;\r\n      }\r\n      @media (prefers-reduced-motion: reduce) {\r\n        :root {\r\n          --duration: 1ms;\r\n        }\r\n      }\r\n      @media (max-width: 540px) {\r\n        .sidenav-navigation__container {\r\n          position: absolute;\r\n          top: 0;\r\n\r\n          width: 70vw;\r\n          overflow: hidden auto;\r\n          overscroll-behavior: contain;\r\n\r\n          visibility: hidden; /* not keyboard accessible when closed */\r\n          transform: translateX(-110vw);\r\n          will-change: transform;\r\n          transition: transform var(--duration) var(--easeOutExpo),\r\n            visibility 0s linear var(--duration);\r\n          //prettier-ignore\r\n        }\r\n        .sidenav-navigation__container[data-open=\"true\"] {\r\n          visibility: visible;\r\n          transform: translateX(0);\r\n          transition: transform var(--duration) var(--easeOutExpo);\r\n          background: white;\r\n        }\r\n        .sidenav-close__link-container {\r\n          display: inline-block;\r\n          width: 100%;\r\n          height: 100%;\r\n          grid-column: 2;\r\n        }\r\n        .sidenav-close__link {\r\n          display: block;\r\n          height: 100%;\r\n        }\r\n        .sidenav__container {\r\n          grid-template-columns: 70vw 30vw;\r\n          grid-template-rows: 100vh;\r\n\r\n          display: grid;\r\n          position: fixed;\r\n        }\r\n      }\r\n    `;\r\n  }\r\n}\r\n"]}