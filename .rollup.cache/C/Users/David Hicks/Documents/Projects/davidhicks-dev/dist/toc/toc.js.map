{"version":3,"file":"toc.js","sourceRoot":"","sources":["../../src/toc/toc.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { querySelectorAll } from '@github/query-selector';\r\nimport { css, html, LitElement } from 'lit';\r\nimport { property, customElement, query, queryAll } from 'lit/decorators.js';\r\nimport '@material/mwc-icon-button';\r\nimport { IconController } from '../icons/icon.controller';\r\n/**\r\n * Element that renders table of contents.\r\n * @extends {BaseStateElement}\r\n * @final\r\n */\r\n@customElement('hicks-toc')\r\nexport class TableOfContents extends LitElement {\r\n  @query('.is-active')\r\n  activeLink: HTMLAnchorElement;\r\n  @queryAll('.is-active')\r\n  links: NodeListOf<HTMLAnchorElement>;\r\n  @query('h1[id]')\r\n  contentTitle: HTMLHeadingElement;\r\n  activeClass: string;\r\n  borderClass: string;\r\n  tocVisibleClass: string;\r\n  tocHTML!: any;\r\n  @property({ type: Object }) articleContent!: HTMLElement | null;\r\n  @property({ type: Boolean, reflect: true }) opened = true;\r\n  headings!: HTMLHeadingElement[];\r\n  observer!: IntersectionObserver;\r\n  previousOffset: number = 0;\r\n  activeHeadings: Set<string>;\r\n  icons: IconController;\r\n  constructor() {\r\n    super();\r\n    this.scrollSpy = this.scrollSpy.bind(this);\r\n    this.activeClass = 'is-active';\r\n    this.borderClass = 'is-bordered';\r\n    this.icons = new IconController(this, 'openBook');\r\n  }\r\n\r\n  toggle() {\r\n    this.opened = !this.opened;\r\n    this.icons.name = this.opened ? 'close' : 'openBook';\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n  open() {\r\n    this.opened = true;\r\n  }\r\n  connectedCallback() {\r\n    // This sets initial global state before subscribing to the store.\r\n    // If we didn't do this then `this.opened` would always be set to false\r\n    // because onStateChanged runs synchronously after we call\r\n    // super.connectedCallback();\r\n\r\n    super.connectedCallback();\r\n    this.opened = true;\r\n  }\r\n  firstUpdated(changedProperties) {\r\n    super.firstUpdated(changedProperties);\r\n    this.articleContent = this.closest('main');\r\n\r\n    if (!this.articleContent) {\r\n      console.warn(`Article container not found.`);\r\n    }\r\n    this.headings = querySelectorAll(this.articleContent, 'h2[id], h3[id]');\r\n    this.previousOffset = this.articleContent.getBoundingClientRect().top;\r\n    this.observer = new IntersectionObserver(this.scrollSpy, {\r\n      rootMargin: '0px 0px -40% 0px',\r\n    });\r\n\r\n    this.headings.forEach((heading: HTMLHeadingElement, i) => {\r\n      heading.dataset.tocIndex = i.toString();\r\n      this.observer.observe(heading);\r\n    });\r\n    window.addEventListener(\r\n      'hashchange',\r\n      (e) => {\r\n        const removeLinks = () =>\r\n          this.links.forEach((link) => link.classList.remove('is-active'));\r\n        setTimeout(() => {\r\n          removeLinks();\r\n          this._selectLink(window.location.hash.slice(1)).activate();\r\n        }, 30);\r\n      },\r\n      { passive: true }\r\n    );\r\n  }\r\n  makeLinks = (headings: HTMLHeadingElement[]) => {\r\n    return headings?.map(\r\n      (heading: HTMLHeadingElement) =>\r\n        html`<li class=\"list__item\">\r\n          <a\r\n            data-toc-index=\"${heading.dataset.tocIndex}\"\r\n            class=\"list__item__link\"\r\n            style=\"--list-item-padding: ${`${\r\n              Number(heading.tagName[1]) - 1\r\n            }em`}\"\r\n            href=\"#${heading.id}\"\r\n            >${heading.innerText}</a\r\n          >\r\n        </li>`\r\n    );\r\n  };\r\n\r\n  scrollDirFrom = (previousOffset: number) => {\r\n    const currentOffset = this.articleContent.getBoundingClientRect().top;\r\n    const sign = Math.sign(currentOffset - previousOffset);\r\n    this.previousOffset = currentOffset;\r\n    return sign;\r\n  };\r\n\r\n  scrollSpy(headings: IntersectionObserverEntry[]) {\r\n    const lastIndex = this.activeLink?.dataset?.tocIndex;\r\n    if (lastIndex === undefined) {\r\n      this.activeHeadings = new Set(\r\n        headings.map((heading) => heading.target.id).values()\r\n      );\r\n      this._selectActiveHeader(headings);\r\n      return;\r\n    }\r\n    const { isIntersecting, target } = headings[0];\r\n    const index = parseInt(lastIndex);\r\n    const isScrollingDown = this.scrollDirFrom(this.previousOffset) < 0;\r\n    const triggerHeader = this._selectLink(target.id);\r\n    const triggerIndex = parseInt((target as HTMLElement).dataset.tocIndex);\r\n    if (isIntersecting === false) {\r\n      return this._selectClosestVisibleHeader(target);\r\n    } else {\r\n      this.activeHeadings.add(target.id);\r\n    }\r\n    if (triggerHeader) {\r\n      const isSectionLarger = triggerIndex > index;\r\n      this.activeLink.classList.remove('is-active');\r\n      if (isScrollingDown) {\r\n        if (isSectionLarger) {\r\n          triggerHeader.activate();\r\n        }\r\n      } else if (!isSectionLarger) {\r\n        triggerHeader.activate();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _selectClosestVisibleHeader(target: Element) {\r\n    this.activeHeadings.delete(target.id);\r\n\r\n    if (this.activeHeadings.size > 0) {\r\n      this.links.forEach((el) => el.classList.remove('is-active'));\r\n      const selector = this.activeHeadings.values().next().value;\r\n      this._selectLink(selector)?.activate();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private _selectLink(selector: string) {\r\n    const link = this.shadowRoot.querySelector(`a[href=\"#${selector}\"]`);\r\n    return {\r\n      activate: () => {\r\n        link != null ? link.classList.add('is-active') : null;\r\n      },\r\n      deactivate: () => {\r\n        link != null ? link.classList.remove('is-active') : null;\r\n      },\r\n    };\r\n  }\r\n  private _selectActiveHeader(headings: IntersectionObserverEntry[]) {\r\n    const midPoint = headings[0].rootBounds.height / 2;\r\n    let min = Number.MAX_SAFE_INTEGER;\r\n    let max = Number.MIN_VALUE;\r\n    let larger = false;\r\n    let bounds = headings.reduce((acc, curr) => {\r\n      let { boundingClientRect: bounds, isIntersecting, target } = curr;\r\n      if (isIntersecting) {\r\n        let y = Math.floor(bounds.y);\r\n        larger = y > midPoint;\r\n        min = y < min ? y : min;\r\n        max = y > max ? y : max;\r\n        acc.set(y, target.id);\r\n      }\r\n      return acc;\r\n    }, new Map());\r\n    const selector = larger ? bounds.get(min) : bounds.get(max);\r\n    const queryRes = this._selectLink(selector);\r\n    queryRes.activate();\r\n  }\r\n  render() {\r\n    const headerLink = this.contentTitle?.innerText.toLowerCase().trim();\r\n    return html`\r\n      <section class=\"toc__container\">\r\n        <div class=\"toc__head\">\r\n          <mwc-icon-button @click=\"${this.toggle}\"\r\n            >${this.icons.icon('--gr-8', '--blue3')}</mwc-icon-button\r\n          >\r\n\r\n          <div class=\"toc__label\">\r\n            <span>In this article</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"toc__content\">\r\n          <h2 class=\"toc__header\">\r\n            <a href=\"#${headerLink}\" class=\"toc__header__link\"\r\n              >${this.contentTitle}</a\r\n            >\r\n          </h2>\r\n          <div>\r\n            <ul class=\"list\">\r\n              ${this.makeLinks(this.headings)}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    `;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.observer.disconnect();\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      :host([opened]) .toc__head {\r\n        display: flex;\r\n        flex-direction: row;\r\n      }\r\n      :host([opened]) .toc__container {\r\n        background-color: white;\r\n\r\n        padding: 24px 0;\r\n        top: 63px;\r\n        z-index: 100;\r\n        width: 200px;\r\n        position: sticky;\r\n      }\r\n\r\n      .toc__border {\r\n        margin-left: -24px;\r\n        padding-left: 21px;\r\n      }\r\n      .toc__content {\r\n        height: calc(100% - 24px);\r\n        overflow-y: auto;\r\n        padding: 0 24px;\r\n      }\r\n      .toc__content__link-icon {\r\n        vertical-align: middle;\r\n      }\r\n      .toc__header {\r\n        margin-bottom: 12px;\r\n        margin-top: 12px;\r\n      }\r\n      .toc__header__link {\r\n        font-size: 1.4rem;\r\n        font-weight: 500;\r\n        appearance: none;\r\n      }\r\n\r\n      .toc__header__link:hover {\r\n        color: var(--orange-8);\r\n      }\r\n      .toc__label {\r\n        font-size: 1.4rem;\r\n      }\r\n\r\n      .toc__head {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n      }\r\n      .list {\r\n        --list-item-padding: 0%;\r\n        margin-left: 30px;\r\n        padding: 0;\r\n        list-style-type: none;\r\n        margin-block: 0px;\r\n        padding-inline: 0px;\r\n        border-left: 3px solid var(--blue4);\r\n        display: grid;\r\n      }\r\n\r\n      .list__item {\r\n        list-style-type: none;\r\n        margin: 0.5rem 0px;\r\n      }\r\n      .list__item__link {\r\n        font-size: 0.8rem;\r\n        margin-left: var(--list-item-padding);\r\n        color: gray;\r\n        text-decoration: none;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n      }\r\n      .list__item__link.is-active {\r\n        color: var(--blue9);\r\n        font-weight: 500;\r\n      }\r\n\r\n      .list__item.is-bordered {\r\n        border: 2px dotted blue;\r\n      }\r\n    `;\r\n  }\r\n}\r\n"]}