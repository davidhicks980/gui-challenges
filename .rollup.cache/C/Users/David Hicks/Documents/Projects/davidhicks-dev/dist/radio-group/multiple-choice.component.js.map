{"version":3,"file":"multiple-choice.component.js","sourceRoot":"","sources":["../../src/radio-group/multiple-choice.component.ts"],"names":[],"mappings":"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","sourcesContent":["import \"element-internals-polyfill\";\r\nimport { TemplateResult, css, html } from \"lit\";\r\nimport { customElement, property, query } from \"lit/decorators.js\";\r\nimport { Option } from \"./Options\";\r\nimport { LitControl } from \"./element-base.mixin\";\r\nimport { VERTICAL_ARROW_KEYS, ARROW_KEYS } from \"./keys.constants\";\r\nimport { querySelectorAll } from \"@github/query-selector\";\r\n\r\n@customElement(\"hcks-radio-group\")\r\nexport class McControl extends LitControl {\r\n  @query(\"fieldset\")\r\n  fieldset: HTMLFieldSetElement;\r\n  /**Whether to allow the user to use keyboard navigation mixin. Set to false in case the user is using a built-in form control */\r\n  @property({ type: Boolean })\r\n  keyboardNavigation: boolean = false;\r\n  @property({ type: String, reflect: true })\r\n  label = \"Select the best answer(s)\";\r\n  nodes: HTMLInputElement[];\r\n  currentNode: number = 0;\r\n\r\n  firstUpdated(_changedProperties) {\r\n    super.firstUpdated(_changedProperties);\r\n    this.model.next(this.currentNode);\r\n  }\r\n  constructor() {\r\n    super();\r\n    this.type = \"multiselect\";\r\n  }\r\n\r\n  handleMultiSelect(e) {\r\n    const childNodes = querySelectorAll(\r\n      this.shadowRoot,\r\n      \"input\",\r\n      HTMLInputElement\r\n    );\r\n\r\n    this.nodes = childNodes;\r\n  }\r\n  arrowKeyHandler(toProceeding: boolean) {\r\n    let { nextElementSibling: next, previousElementSibling: prev } =\r\n      this.nodes[this.currentNode];\r\n    const typeguard = (input) => input as HTMLInputElement;\r\n    if (toProceeding ? next : prev) {\r\n      typeguard(next).select();\r\n      this.currentNode++;\r\n    } else if (toProceeding ? prev : next) {\r\n      typeguard(prev).select();\r\n      this.currentNode--;\r\n    }\r\n    this.model.next(this.nodes[this.currentNode].value);\r\n    return;\r\n  }\r\n\r\n  handleSelection(e) {}\r\n  handleKeydown(e: KeyboardEvent) {\r\n    if (ARROW_KEYS.includes(e.key))\r\n      switch (e.key) {\r\n        case \"Down\":\r\n        case \"ArrowDown\":\r\n        case \"Right\":\r\n        case \"ArrowRight\":\r\n          this.arrowKeyHandler(true);\r\n          break;\r\n        case \"Up\":\r\n        case \"ArrowUp\":\r\n        case \"Left\":\r\n        case \"ArrowLeft\":\r\n          this.arrowKeyHandler(false);\r\n          break;\r\n      }\r\n  }\r\n  render() {\r\n    return html`<fieldset\r\n      role=\"combobox\"\r\n      aria-label=\"list of answer choices\"\r\n      class=\"option-container\"\r\n      @input=\"${this.handleSelection}\"\r\n      @keydown=\"${this.handleKeydown}\"\r\n    >\r\n      <legend><slot name=\"radio-group-legend\">${this.label}</slot></legend>\r\n      <slot name=\"radio\" @slotchange=\"${this.handleMultiSelect}\"></slot>\r\n    </fieldset>`;\r\n  }\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        font-size: 12pt;\r\n      }\r\n      fieldset {\r\n        display: flex;\r\n        flex-direction: column;\r\n        border-style: solid;\r\n        border-width: 0;\r\n      }\r\n      label {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        padding: 0.5em;\r\n        gap: 0.7em;\r\n        cursor: pointer;\r\n      }\r\n      .choice-container:focus-within {\r\n        outline: 2px dashed rgba(0, 0, 0, 0.7);\r\n        outline-offset: 0.25em;\r\n      }\r\n\r\n      legend {\r\n        font-family: \"IBM Plex Sans\";\r\n        text-transform: uppercase;\r\n      }\r\n    `;\r\n  }\r\n}\r\n"]}