{"version":3,"file":"search-box.js","sourceRoot":"","sources":["../src/search-box.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEpD,cAAc,CAAC,MAAM,CACnB,cAAc,EACd,KAAM,SAAQ,UAAU;IAsJtB;QACE,KAAK,EAAE,CAAC;QA/IV,aAAQ,GAAW,CAAC,CAAC;QAgJnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IA3JD,MAAM,KAAK,UAAU;QACnB,OAAO;YACL,IAAI,EAAE;gBACJ,IAAI,EAAE,MAAM;aACb;YACD,UAAU,EAAE;gBACV,IAAI,EAAE,OAAO;gBACb,OAAO,EAAE,IAAI;aACd;YACD,QAAQ,EAAE;gBACR,IAAI,EAAE,OAAO;gBACb,OAAO,EAAE,IAAI;aACd;SACF,CAAC;IACJ,CAAC;IACD,MAAM,KAAK,MAAM;QACf,OAAO,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAuHT,CAAC;IACJ,CAAC;IAoBD,MAAM;QACJ,OAAO,IAAI,CAAA;uBACM,IAAI,CAAC,aAAa;;;wBAGjB,IAAI,CAAC,cAAc;;;;;;;cAO7B,IAAI,CAAC,IAAI;YACX,IAAI,CAAA;;;;;;;;;yBASS,IAAI,CAAC,IAAI;;;;aAIrB;;;;OAIN,CAAC;IACJ,CAAC;IACD,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;IACrB,CAAC;IACD,YAAY;QACV,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAC3C,0BAA0B,CAC3B,CAAC;YACA,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC;YACjD,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE;gBACrD,OAAO,EAAE,IAAI;aACd,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE;gBACnD,OAAO,EAAE,IAAI;aACd,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACvD,CAAC;IAED,cAAc,CACZ,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG;QAC3B,UAAU,EAAE,IAAI;KACjB;QAED,MAAM,EAAE,iBAAiB,EAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9C,IACE,iBAAiB,KAAK,IAAI,CAAC,QAAQ;YACnC,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,iBAAiB,CAAC,EAAE,UAAU,CAAC,EACjD;YACA,UAAU,GAAG,CAAC,CAAC,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAChE,UAAU,CACX,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EACtC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,UAAU,IAAI,CAAC,CAAC;YACnD,IAAI,CAAC,KAAK,CAAC;gBAAE,OAAO;YACpB,CAAC,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;gBACnE,CAAC;oBACC,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC;wBAC7B,CAAC,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;SAC7C;IACH,CAAC;IACD,QAAQ;QACN,OAAO;YACL,iBAAiB,EAAE,IAAI;SACxB,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,CAAC;QACZ,IAAI,CAAC,QAAQ;YACX,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACpC,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC/B,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC9B,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACtC,CAAC;IACD,WAAW,CAAC,CAAC;QACX,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACjE,CAAC;IACD,UAAU;QACR,IAAI,CAAC,IAAI,CAAC,gBAAgB;YAAE,OAAO;QACnC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACrD,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;YAC5C,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;IACnC,CAAC;IACD,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,gBAAgB;YAAE,OAAO;QACnC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,SAAS,GAAG,cAAc,CAAC,KAAK,CAAC;IACjE,CAAC;IACD,aAAa,CAAC,CAAC;QACb,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;IAC/C,CAAC;IACD,eAAe;QACb,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC;YAAE,IAAI,CAAC,KAAK,EAAE,CAAC;QAE9D,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;IAC/B,CAAC;IACD,cAAc;QACZ,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,CAAC,CAAQ;QACd,QAAQ,KAAK,CAAC,CAAC,GAAG,IAAI,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5E,CAAC;IACD,IAAI,QAAQ,CAAC,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC;YAAE,OAAO;QACjC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QACzB,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YAClB,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,SAAS,IAAI,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC;YAClE,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,EAAE;gBAC3D,IAAI,EAAE,IAAI;aACX,CAAC;YACF,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IACD,oBAAoB;QAClB,KAAK,CAAC,oBAAoB,EAAE,CAAC;IAC/B,CAAC;CACF,CACF,CAAC","sourcesContent":["import { css, html, LitElement } from \"lit-element\";\r\n\r\ncustomElements.define(\r\n  \"web-side-nav\",\r\n  class extends LitElement {\r\n    inert: boolean;\r\n    logo: string;\r\n    animatable: boolean;\r\n    expanded_: boolean;\r\n    startX_: number;\r\n    currentX_: number;\r\n    touchingSideNav_: boolean;\r\n    tabIndex: number = 1;\r\n    sideNavContainerEl: any;\r\n    classList: any;\r\n\r\n    static get properties() {\r\n      return {\r\n        logo: {\r\n          type: String,\r\n        },\r\n        animatable: {\r\n          type: Boolean,\r\n          reflect: true,\r\n        },\r\n        expanded: {\r\n          type: Boolean,\r\n          reflect: true,\r\n        },\r\n      };\r\n    }\r\n    static get styles() {\r\n      return css`\r\n        body.web-side-nav--expanded,\r\n        web-side-nav {\r\n          overflow: hidden;\r\n        }\r\n        web-side-nav {\r\n          position: fixed;\r\n          left: 0;\r\n          top: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          pointer-events: none;\r\n          z-index: 300;\r\n        }\r\n        web-side-nav.unresolved * {\r\n          display: none !important;\r\n        }\r\n        web-side-nav:before {\r\n          content: \"\";\r\n          display: block;\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: rgba(0, 0, 0, 0.4);\r\n          opacity: 0;\r\n          will-change: opacity;\r\n          transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n        web-side-nav[expanded] {\r\n          pointer-events: auto;\r\n          visibility: visible;\r\n        }\r\n        web-side-nav[expanded]:before {\r\n          opacity: 1;\r\n        }\r\n        .web-side-nav__container {\r\n          position: relative;\r\n          width: 90%;\r\n          max-width: 268px;\r\n          background: #fff;\r\n          height: 100%;\r\n          box-shadow: 2px 0 12px rgba(0, 0, 0, 0.4);\r\n          transform: translateX(-110%);\r\n          display: flex;\r\n          flex-direction: column;\r\n          will-change: transform;\r\n        }\r\n        web-side-nav[expanded] .web-side-nav__container {\r\n          transform: none;\r\n        }\r\n        web-side-nav[animatable] .web-side-nav__container,\r\n        web-side-nav[expanded][animatable] .web-side-nav__container {\r\n          transition: ;\r\n        }\r\n        .web-side-nav__header {\r\n          align-items: center;\r\n          display: flex;\r\n          padding: 16px;\r\n          border-bottom: 1px solid #dadce0;\r\n        }\r\n        .web-side-nav__logo {\r\n          height: 30px;\r\n          width: 125px;\r\n        }\r\n        .web-side-nav__hide {\r\n          height: 2.75rem;\r\n          margin: 0 10px 0 -6px;\r\n          width: 2.75rem;\r\n        }\r\n        .web-side-nav__hide:before {\r\n          -moz-osx-font-smoothing: grayscale;\r\n          -webkit-font-smoothing: antialiased;\r\n          font: normal normal normal 24px/1 Material Icons;\r\n          font-feature-settings: \"liga\";\r\n          text-rendering: optimizeSpeed;\r\n          text-transform: none;\r\n          word-wrap: normal;\r\n          content: \"close\";\r\n        }\r\n        .web-side-nav__content {\r\n          flex: 1;\r\n          list-style: none;\r\n          padding: 0;\r\n          margin: 0;\r\n          overflow-x: hidden;\r\n          overflow-y: auto;\r\n          -webkit-overflow-scrolling: touch;\r\n        }\r\n        .web-side-nav__link {\r\n          border-bottom: 1px solid #dadce0;\r\n          color: #5f6368;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          padding: 16px 24px;\r\n        }\r\n        .web-side-nav__link[active] {\r\n          -webkit-box-shadow: 0 -2px 0 #3740ff inset;\r\n          box-shadow: inset 0 -2px 0 #3740ff;\r\n        }\r\n        .web-side-nav__link:active,\r\n        .web-side-nav__link:focus,\r\n        .web-side-nav__link:hover {\r\n          text-decoration: none;\r\n          outline: 0;\r\n        }\r\n        .web-side-nav__link:hover {\r\n          background-color: rgba(32, 33, 36, 0.04);\r\n        }\r\n        .web-side-nav__link:focus {\r\n          background-color: rgba(32, 33, 36, 0.12);\r\n        }\r\n        .web-side-nav__link:active {\r\n          background-color: rgba(32, 33, 36, 0.16);\r\n        }\r\n        .web-side-nav__link[data-active] {\r\n          color: #3740ff;\r\n        }\r\n      `;\r\n    }\r\n\r\n    constructor() {\r\n      super();\r\n      this.inert = true;\r\n      this.logo = \"\";\r\n      this.animatable = false;\r\n      this.expanded_ = false;\r\n      this.startX_ = 0;\r\n      this.currentX_ = 0;\r\n      this.touchingSideNav_ = false;\r\n      this.onCloseSideNav = this.onCloseSideNav.bind(this);\r\n      this.onTouchStart = this.onTouchStart.bind(this);\r\n      this.onTouchMove = this.onTouchMove.bind(this);\r\n      this.onTouchEnd = this.onTouchEnd.bind(this);\r\n      this.onTransitionEnd = this.onTransitionEnd.bind(this);\r\n      this.drag = this.drag.bind(this);\r\n      this.onStateChanged = this.onStateChanged.bind(this);\r\n      this.onKeyUp = this.onKeyUp.bind(this);\r\n    }\r\n    render() {\r\n      return html`\r\n        <nav @click=\"${this.onBlockClicks}\" class=\"web-side-nav__container\">\r\n          <div class=\"web-side-nav__header\">\r\n            <button\r\n              @click=\"${this.onCloseSideNav}\"\r\n              data-icon=\"close\"\r\n              class=\"w-button--icon w-button--round web-side-nav__hide\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span class=\"w-tooltip\">Close</span>\r\n            </button>\r\n            ${this.logo &&\r\n            html`\r\n              <a\r\n                href=\"/\"\r\n                class=\"gc-analytics-event\"\r\n                data-category=\"Site-Wide Custom Events\"\r\n                data-label=\"Site logo\"\r\n              >\r\n                <img\r\n                  class=\"web-side-nav__logo\"\r\n                  src=\"${this.logo}\"\r\n                  alt=\"web.dev\"\r\n                />\r\n              </a>\r\n            `}\r\n          </div>\r\n          <slot name=\"content\"></slot>\r\n        </nav>\r\n      `;\r\n    }\r\n    connectedCallback() {\r\n      super.connectedCallback();\r\n      this.tabIndex = -1;\r\n    }\r\n    firstUpdated() {\r\n      (this.sideNavContainerEl = this.querySelector(\r\n        \".web-side-nav__container\"\r\n      )),\r\n        this.addEventListeners(),\r\n        this.onStateChanged(),\r\n        this.classList.remove(\"unresolved\");\r\n    }\r\n\r\n    addEventListeners() {\r\n      this.addEventListener(\"click\", this.onCloseSideNav),\r\n        this.addEventListener(\"touchstart\", this.onTouchStart, {\r\n          passive: true,\r\n        }),\r\n        this.addEventListener(\"touchmove\", this.onTouchMove, {\r\n          passive: true,\r\n        }),\r\n        this.addEventListener(\"touchend\", this.onTouchEnd);\r\n    }\r\n\r\n    onStateChanged(\r\n      { currentUrl: currentUrl } = {\r\n        currentUrl: null,\r\n      }\r\n    ) {\r\n      const { isSideNavExpanded } = this.getState();\r\n      if (\r\n        isSideNavExpanded !== this.expanded &&\r\n        ((this.expanded = isSideNavExpanded), currentUrl)\r\n      ) {\r\n        currentUrl = ((currentUrl = currentUrl.replace(/\"/g, '\\\\\"')).match(\r\n          /^\\/\\w+\\//\r\n        ) || [\"\"])[0];\r\n        const e = this.querySelector(\"[active]\"),\r\n          n = this.querySelector(`[href=\"${currentUrl}\"]`);\r\n        if (e === n) return;\r\n        e && (e.removeAttribute(\"active\"), e.removeAttribute(\"aria-current\")),\r\n          n &&\r\n            (n.setAttribute(\"active\", \"\"),\r\n            n.setAttribute(\"aria-current\", \"page\"));\r\n      }\r\n    }\r\n    getState(): { isSideNavExpanded: any } {\r\n      return {\r\n        isSideNavExpanded: true,\r\n      };\r\n    }\r\n    onTouchStart(e) {\r\n      this.expanded &&\r\n        ((this.startX_ = e.touches[0].pageX),\r\n        (this.currentX_ = this.startX_),\r\n        (this.touchingSideNav_ = true),\r\n        requestAnimationFrame(this.drag));\r\n    }\r\n    onTouchMove(e) {\r\n      this.touchingSideNav_ && (this.currentX_ = e.touches[0].pageX);\r\n    }\r\n    onTouchEnd() {\r\n      if (!this.touchingSideNav_) return;\r\n      this.touchingSideNav_ = false;\r\n      const e = Math.min(0, this.currentX_ - this.startX_);\r\n      (this.sideNavContainerEl.style.transform = \"\"),\r\n        e < 0 && this.onCloseSideNav();\r\n    }\r\n    drag() {\r\n      if (!this.touchingSideNav_) return;\r\n      requestAnimationFrame(this.drag);\r\n      const e = Math.min(0, this.currentX_ - this.startX_);\r\n      this.sideNavContainerEl.style.transform = `translateX(${e}px)`;\r\n    }\r\n    onBlockClicks(e) {\r\n      e.target.closest(\"a\") || e.stopPropagation();\r\n    }\r\n    onTransitionEnd() {\r\n      if (((this.animatable = false), this.expanded_)) this.focus();\r\n\r\n      this.inert = !this.expanded_;\r\n    }\r\n    onCloseSideNav() {\r\n      return null;\r\n    }\r\n    onKeyUp(e: Event) {\r\n      \"Escape\" === e.key && document.removeEventListener(\"keyup\", this.onKeyUp);\r\n    }\r\n    set expanded(e) {\r\n      if (this.expanded_ === e) return;\r\n      const t = this.expanded_;\r\n      (this.expanded_ = e),\r\n        (this.animatable = true),\r\n        this.expanded_ && document.addEventListener(\"keyup\", this.onKeyUp),\r\n        this.addEventListener(\"transitionend\", this.onTransitionEnd, {\r\n          once: true,\r\n        }),\r\n        this.requestUpdate(\"expanded\", t);\r\n    }\r\n    get expanded() {\r\n      return this.expanded_;\r\n    }\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n    }\r\n  }\r\n);\r\n"]}