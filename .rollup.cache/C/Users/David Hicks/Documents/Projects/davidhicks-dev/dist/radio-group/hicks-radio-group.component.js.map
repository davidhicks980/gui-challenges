{"version":3,"file":"hicks-radio-group.component.js","sourceRoot":"","sources":["../../src/radio-group/hicks-radio-group.component.ts"],"names":[],"mappings":"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","sourcesContent":["import \"element-internals-polyfill\";\r\nimport { css, html } from \"lit\";\r\nimport { customElement, property, query } from \"lit/decorators.js\";\r\nimport { LitControl } from \"./element-base.mixin\";\r\nimport { ARROW_KEYS } from \"./keys.constants\";\r\nimport { querySelectorAll } from \"@github/query-selector\";\r\n\r\n@customElement(\"hicks-radio-group\")\r\nexport class HicksRadioGroup extends LitControl {\r\n  @query(\"slot[name=radio]\")\r\n  radioSlot: HTMLInputElement;\r\n  @query(\"fieldset\")\r\n  fieldset: HTMLFieldSetElement;\r\n  /**Whether to allow the user to use keyboard navigation mixin. Set to false in case the user is using a built-in form control */\r\n  @property({ type: Boolean })\r\n  keyboardNavigation: boolean = false;\r\n  @property({ type: String, reflect: true })\r\n  label = \"Select the best answer(s)\";\r\n  selectNodes: HTMLInputElement[];\r\n  currentNode: number = 0;\r\n\r\n  firstUpdated(_changedProperties) {\r\n    super.firstUpdated(_changedProperties);\r\n    this.model.next(this.currentNode);\r\n  }\r\n  constructor() {\r\n    super();\r\n    this.type = \"multiselect\";\r\n  }\r\n\r\n  handleMultiSelect(e) {\r\n    const childNodes = this.radioSlot.assignedNodes({ flatten: true });\r\n    this.selectNodes = childNodes;\r\n    console.log(this.selectNodes);\r\n  }\r\n  arrowKeyHandler(toProceeding: boolean) {\r\n    let ref = this.selectNodes[this.currentNode];\r\n    let next = ref.nextElementSibling;\r\n    let prev = ref.previousElementSibling;\r\n    const typeguard = (input) => input as HTMLInputElement;\r\n    if (toProceeding ? next : prev) {\r\n      typeguard(next).select();\r\n      ref.checked = false;\r\n      this.currentNode++;\r\n    } else if (toProceeding ? prev : next) {\r\n      typeguard(prev).select();\r\n      ref.checked = false;\r\n      this.currentNode--;\r\n    }\r\n    this.model.next(this.selectNodes[this.currentNode].value);\r\n    return;\r\n  }\r\n\r\n  handleSelection(e) {}\r\n  handleKeydown(e: KeyboardEvent) {\r\n    if (ARROW_KEYS.includes(e.key))\r\n      switch (e.key) {\r\n        case \"Down\":\r\n        case \"ArrowDown\":\r\n        case \"Right\":\r\n        case \"ArrowRight\":\r\n          this.arrowKeyHandler(true);\r\n          break;\r\n        case \"Up\":\r\n        case \"ArrowUp\":\r\n        case \"Left\":\r\n        case \"ArrowLeft\":\r\n          this.arrowKeyHandler(false);\r\n          break;\r\n      }\r\n  }\r\n  render() {\r\n    return html`<fieldset\r\n      role=\"combobox\"\r\n      aria-label=\"list of answer choices\"\r\n      class=\"option-container\"\r\n      @input=\"${this.handleSelection}\"\r\n      @keydown=\"${this.handleKeydown}\"\r\n    >\r\n      <legend><slot name=\"radio-group-legend\">${this.label}</slot></legend>\r\n      <div>\r\n        <slot name=\"radio\" @slotchange=\"${this.handleMultiSelect}\"></slot>\r\n      </div>\r\n    </fieldset>`;\r\n  }\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        font-size: 12pt;\r\n      }\r\n      fieldset {\r\n        display: flex;\r\n        flex-direction: column;\r\n        border-style: solid;\r\n        border-width: 0;\r\n      }\r\n      label {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        padding: 0.5em;\r\n        gap: 0.7em;\r\n        cursor: pointer;\r\n      }\r\n      .choice-container:focus-within {\r\n        outline: 2px dashed rgba(0, 0, 0, 0.7);\r\n        outline-offset: 0.25em;\r\n      }\r\n\r\n      legend {\r\n        font-family: \"IBM Plex Sans\";\r\n        text-transform: uppercase;\r\n      }\r\n    `;\r\n  }\r\n}\r\n"]}