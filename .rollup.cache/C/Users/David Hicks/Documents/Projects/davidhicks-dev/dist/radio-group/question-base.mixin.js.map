{"version":3,"file":"question-base.mixin.js","sourceRoot":"","sources":["../../src/radio-group/question-base.mixin.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAkB,IAAI,EAAE,UAAU,EAAkB,MAAM,KAAK,CAAC;AAC5E,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE7C,MAAM,OAAO,eAAgB,SAAQ,UAAU;IAiD7C;QACE,KAAK,EAAE,CAAC;QAhDV,sBAAiB,GAAW,EAAE,CAAC;QAC/B,UAAK,GAAY,KAAK,CAAC;QA8DvB,UAAK,GAAG;YACN,MAAM,EAAE;gBACN,MAAM,EAAE,wBAAwB;gBAChC,UAAU,EAAE,kBAAkB;aAC/B;YACD,aAAa,EAAE;gBACb,MAAM,EAAE,CAAC,MAAc,EAAE,EAAE,CAAC,CAAC;oBAC3B,MAAM,EAAE,6BAA6B,MAAM,IAAI;oBAC/C,UAAU,EAAE,IAAI,MAAM,CAAC,6BAA6B,MAAM,IAAI,CAAC;iBAChE,CAAC;aACH;YAED,SAAS,EAAE;gBACT,MAAM,EAAE,4BAA4B;gBACpC,UAAU,EAAE,oBAAoB;aACjC;SACF,CAAC;QA7BA,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC9B,iBAAiB,EACjB,CAAC,KAAuD,EAAE,EAAE;YAC1D,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;QAChD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YAC9C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IA3DD;;;OAGG;IACH,YAAY,CAAC,UAA+C;QAC1D,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,UAAU,EAAE;YAC1B,MAAM,EAAE,UAAU;YAClB,QAAQ,EAAE,IAAI;SACf,CAAC,CACH,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,SAAS,CAAC,KAA0B;QAClC,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,YAAY,EAAE;YAC5B,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;YAC/B,QAAQ,EAAE,IAAI;SACf,CAAC,CACH,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,kBAAkB;QAC7B,KAAK,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;QACvC,UAAU;QACV,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;IACvD,CAAC;IACD,SAAS,CAAC,cAA8B;QACtC,OAAO,IAAI,CAAA;;UAEL,cAAc;UACd,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC;YAC/C,CAAC,CAAC,IAAI,CAAA;gBACA,IAAI,CAAC,iBAAiB;mBACnB;YACT,CAAC,CAAC,EAAE;;KAET,CAAC;IACJ,CAAC;IAmCD,MAAM,KAAK,MAAM;QACf,OAAO;YACL,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA8BF;SACF,CAAC;IACJ,CAAC;CACF;AAnHC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;0DACX","sourcesContent":["import { css, CSSResultArray, html, LitElement, TemplateResult } from \"lit\";\r\nimport { property } from \"lit/decorators.js\";\r\n\r\nexport class QuestionContent extends LitElement {\r\n  @property({ type: String, reflect: true })\r\n  validationMessage: string = \"\";\r\n  dirty: boolean = false;\r\n\r\n  /** Emits the current validity message via the custom 'changedValidity' event emitter. Access using the @validity decorator on the component.\r\n   * @param  {Object} validation - an object containing the validation message for the component\r\n   * @memberof QuestionContent\r\n   */\r\n  emitValidity(validation: { message: string; valid: boolean }): void {\r\n    this.dispatchEvent(\r\n      new CustomEvent(\"validity\", {\r\n        detail: validation,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * All answers should be ingested first. While ingested, data validation is conducted on the client side, and both values and feedback are provided to the quiz-host component.\r\n   * @param {string[]} answer - the user's current answer. This is set oninput rather than onsubmission.\r\n   * @memberof QuestionContent\r\n   */\r\n  emitValue(value: CustomEvent<string>): void {\r\n    this.dispatchEvent(\r\n      new CustomEvent(\"submission\", {\r\n        detail: value.detail.split(\",\"),\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n  firstUpdated(_changedProperties) {\r\n    super.firstUpdated(_changedProperties);\r\n    //bad code\r\n    setTimeout(() => (this.validationMessage = \"\"), 100);\r\n  }\r\n  container(answerTemplate: TemplateResult) {\r\n    return html`\r\n      <section role=\"form\" class=\"template\">\r\n        ${answerTemplate}\r\n        ${this.dirty && this.validationMessage.length > 0\r\n          ? html`<div aria-live=\"polite\" class=\"template__errors\">\r\n              ${this.validationMessage}\r\n            </div>`\r\n          : \"\"}\r\n      </section>\r\n    `;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.shadowRoot.addEventListener(\"ModelChanged\", this.emitValue);\r\n    this.shadowRoot.addEventListener(\r\n      \"ValidityChanged\",\r\n      (event: CustomEvent<{ valid: boolean; message: string }>) => {\r\n        this.emitValidity(event.detail);\r\n        this.validationMessage = event.detail.message;\r\n      }\r\n    );\r\n    this.shadowRoot.addEventListener(\"click\", (e) => {\r\n      this.dirty = true;\r\n      this.shadowRoot.removeEventListener(\"focusin\", () => \"\");\r\n    });\r\n  }\r\n  regex = {\r\n    number: {\r\n      string: \"[\\\\s\\\\d\\\\.$*-^]{1,100}\",\r\n      expression: /^([\\s\\d$^*-])+$/g,\r\n    },\r\n    floatingPoint: {\r\n      length: (number: string) => ({\r\n        string: `[\\\\d$*-^]{1,100}.\\\\b[\\\\d]{${number}}$`,\r\n        expression: new RegExp(`[\\\\d$*-^]{1,100}.\\\\b[\\\\d]{${number}}$`),\r\n      }),\r\n    },\r\n\r\n    character: {\r\n      string: \"[\\\\w\\\\d\\\\s\\\\.*^%,?]{1,100}\",\r\n      expression: /^([\\s\\d\\w$^,&])+$/g,\r\n    },\r\n  };\r\n  static get styles(): CSSResultArray {\r\n    return [\r\n      css`\r\n        :host([disabled]) {\r\n          pointer-events: none;\r\n        }\r\n        :host([disabled]) * {\r\n          filter: grayscale(50%);\r\n        }\r\n\r\n        .template {\r\n          margin-left: 7%;\r\n        }\r\n        .template__errors {\r\n          color: white;\r\n          border-radius: 3px;\r\n          font-size: 11pt;\r\n          width: 20rem;\r\n          align-items: center;\r\n          box-sizing: border-box;\r\n          color: var(--pk-warning);\r\n          display: flex;\r\n          margin-top: 5px;\r\n          font-family: \"IBM Plex Sans\", \"Roboto\", Arial, Helvetica, sans-serif;\r\n          font-weight: 500;\r\n        }\r\n        .template__errors::before {\r\n          content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22 22' width='1em' fill='rgba(254, 100, 104)' height='1em'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z'/%3E%3C/svg%3E\");\r\n          transform: scaleX(0.99);\r\n          margin-right: 8px;\r\n          margin-top: 3px;\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n}\r\n"]}